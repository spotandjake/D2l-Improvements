(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3255:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(2309)}])},2309:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return wa}});var d,e,f,g,h,i,j,k,l=c(1232),m=c(3992),n=c(7729),o=c(5047),p=c.n(o);function q(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function r(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){q(f,d,e,g,h,"next",a)}function h(a){q(f,d,e,g,h,"throw",a)}g(void 0)})}}function s(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function t(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){t(a,b,c[b])})}return a}(j=d||(d={})).ep="ep",j.le="le",j.lp="lp",j.lr="lr",(k=e||(e={}))[k.Module=0]="Module",k[k.Topic=1]="Topic";var v=function(){"use strict";var a,b,c;function e(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,e),this.version={ep:"1.0.0",le:"1.0.0",lp:"1.0.0",lr:"1.0.0"},this.cid="",this.token="",this.uid="",this.uid=localStorage.getItem("Session.UserId"),this._start()}return a=e,b=[{key:"_start",value:function(){return r(p().mark(function a(){var b,c,e;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=this,c=this,a.next=3,this.versions();case 3:(e=a.sent).forEach(function(a){(a.ProductCode==d.ep||a.ProductCode==d.le||a.ProductCode==d.lp||a.ProductCode==d.lr)&&(b.version[a.ProductCode]=a.LatestVersion)}),this._getToken(!0),setInterval(function(){return window.requestIdleCallback(function(){return c._getToken(!0)},{timeout:1000})},30e4);case 7:case"end":return a.stop()}},a,this)}).bind(this))()}},{key:"_fetch",value:function(a,b){var c=void 0===b?{}:b;return r(p().mark(function b(){var d;return p().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return a.startsWith("/")&&(a="https://durham.elearningontario.ca/d2l".concat(a)),c.headers=u({"content-type":"application/x-www-form-urlencoded, application/json"},c.headers),b.next=4,fetch(a,c);case 4:return d=b.sent,b.abrupt("return",d.json());case 6:case"end":return b.stop()}},b)}))()}},{key:"_getToken",value:function(a){var b=void 0!==a&&a;return r(p().mark(function a(){var c;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(b||""==this.token)){a.next=5;break}return a.next=3,this._fetch("/lp/auth/oauth2/token",{headers:{"x-csrf-token":localStorage.getItem("XSRF.Token")},body:"scope=*:*:*",method:"POST"});case 3:c=a.sent,this.token=c.access_token;case 5:return a.abrupt("return",this.token);case 6:case"end":return a.stop()}},a,this)}).bind(this))()}},{key:"versions",value:function(){return r(p().mark(function a(){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._fetch("/api/versions/");case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,this)}).bind(this))()}}],s(a.prototype,b),c&&s(a,c),e}(),w=c(5191),x=c.n(w),y=function(){return(0,l.jsx)("section",{className:x().container,children:(0,l.jsx)("div",{className:x().loader,children:Array.from({length:9},function(a,b){return(0,l.jsx)("div",{},b)})})})},z=c(9993),A=c.n(z),B=c(5480),C=c.n(B),D=c(4351),E=c(9300),F=c(2379),G=c(4882),H=c(3169),I=c(3754),J=c(1495),K=c(1292);function L(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function M(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){L(f,d,e,g,h,"next",a)}function h(a){L(f,d,e,g,h,"throw",a)}g(void 0)})}}(N=f||(f={})).Mail="Mail",N.Message="Message",N.Notification="Alert",N.Closed="Closed";var N,O=M(p().mark(function a(b){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=JSON,a.next=3,b.text();case 3:return a.t1=a.sent.trim().substr(9),a.abrupt("return",a.t0.parse.call(a.t0,a.t1));case 5:case"end":return a.stop()}},a)})),P=function(a){var b=a.brightSpace,c=(0,m.useState)(30e3),d=c[0],e=c[1],g=(0,m.useState)(f.Closed),h=g[0],i=g[1],j=(0,m.useState)([]),k=j[0],n=j[1],o=(0,m.useState)((0,l.jsx)(y,{})),q=o[0],r=o[1];(0,m.useEffect)(function(){var a,b=M(p().mark(function c(){var e,f,g;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/d2l/activityFeed/checkForNewAlerts?isXhr=true&requestId=3&X-D2L-Session=no-keep-alive");case 2:return e=c.sent,c.next=5,O(e);case 5:f=c.sent,Array.isArray(f.Payload)?(g=[],["Messages","Grades"].forEach(function(a){if(f.Payload.includes(a))switch(a){case"Messages":g.push("Mail");break;case"Grades":g.push("Alert");break;default:alert("Unknown Notification Type ".concat(a))}}),n(g)):n([]),a=setTimeout(b,d);case 8:case"end":return c.stop()}},c)}));return b(),function(){return clearTimeout(a)}},[]);var s=M(p().mark(function a(c){var d,e,g,j,k;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(h===c||c==f.Closed)){a.next=4;break}i(f.Closed),r((0,l.jsx)(y,{})),a.next=19;break;case 4:if(i(c),!(-1!=(d=["",f.Notification,f.Mail].indexOf(c)))){a.next=18;break}return a.next=9,fetch("/d2l/MiniBar/".concat(b.cid,"/ActivityFeed/GetAlertsDaylight?Category=").concat(d,"&requestId=3"));case 9:return e=a.sent,a.next=12,O(e);case 12:g=a.sent,k=(j=new DOMParser()).parseFromString(g.Payload.Html,"text/html"),r((0,l.jsx)("div",{className:C().NotificationShade,dangerouslySetInnerHTML:{__html:k.querySelector(".vui-list").innerHTML}})),a.next=19;break;case 18:r((0,l.jsx)(y,{}));case 19:case"end":return a.stop()}},a)}));return(0,l.jsxs)("nav",{className:C().container,children:[(0,l.jsx)(D.Z,{timeout:30e3,onActive:function(){return e(30e3)},onIdle:function(){return e(30e4)},debounce:250}),(0,l.jsx)("div",{className:"".concat(C().side," ").concat(C().leftSide),children:(0,l.jsx)(E.Z,{"aria-label":"aside",className:C().IconButton,children:(0,l.jsx)(F.Z,{className:C().Icon,component:G.Z,viewBox:"0 0 24 24"})})}),(0,l.jsx)("div",{className:C().center,children:(0,l.jsx)("input",{className:C().SearchBar,placeholder:"Search",type:"text"})}),(0,l.jsx)(K.Z,{onClickAway:function(){return s(f.Closed)},children:(0,l.jsxs)("div",{className:"".concat(C().side," ").concat(C().rightSide),children:[(0,l.jsx)(E.Z,{"aria-label":"Mail",className:[C().IconButton,k.includes("Mail")?C().Active:""].join(" "),onClick:function(){return s(f.Mail)},children:(0,l.jsx)(F.Z,{className:C().Icon,component:H.Z,viewBox:"0 0 24 24"})}),(0,l.jsx)(E.Z,{"aria-label":"Message",className:[C().IconButton,k.includes("Message")?C().Active:""].join(" "),onClick:function(){return s(f.Message)},children:(0,l.jsx)(F.Z,{className:C().Icon,component:I.Z,viewBox:"0 0 24 24"})}),(0,l.jsx)(E.Z,{"aria-label":"Alerts",className:[C().IconButton,k.includes("Alert")?C().Active:""].join(" "),onClick:function(){return s(f.Notification)},children:(0,l.jsx)(F.Z,{className:C().Icon,component:J.Z,viewBox:"0 0 24 24"})}),(0,l.jsx)(E.Z,{"aria-label":"Profile",className:C().IconButton,children:(0,l.jsx)("picture",{className:C().Icon,children:(0,l.jsx)("img",{src:"https://durham.elearningontario.ca/d2l/api/lp/1.32/profile/myProfile/image"})})}),(0,l.jsxs)("div",{className:[C().alertArea,h==f.Closed?"":C().open].join(" "),children:[(0,l.jsx)("h2",{children:h}),(0,l.jsx)("hr",{}),(0,l.jsx)("div",{children:q})]})]})})]})},Q=c(1460),R=c.n(Q),S=function(a){var b=a.Title,c=a.Href,d=a.Active,e=a.children,f=a.Route,g=function(a,b,c){c&&(f?(history.pushState({Title:a,Url:b},a,b),f()):window.location.href=b)};return(0,l.jsx)("div",{onClick:function(){g(b,c,d)},children:e})},T=function(a){var b=a.Name,c=a.Active,d=a.Href,e=a.Picture,f=a.StartDate,g=a.Route;return(0,l.jsx)("div",{className:[R().container,c?R().disabled:" "].join(" "),children:(0,l.jsxs)(S,{Title:b,Href:d,Active:!c,Route:g,children:[(0,l.jsx)("picture",{children:(0,l.jsx)("img",{src:e})}),(0,l.jsxs)("div",{className:R().content,children:[(0,l.jsx)("h4",{children:b}),c?(0,l.jsx)("h6",{children:"Closed"}):(0,l.jsxs)("h6",{children:["Closes | ",new Date(f).toDateString()]})]})]})})};function U(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function V(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){U(f,d,e,g,h,"next",a)}function h(a){U(f,d,e,g,h,"throw",a)}g(void 0)})}}var W,X,Y=(0,m.memo)(function(a){var b=a.brightSpace,c=a.Route,d=(0,m.useState)((0,l.jsx)(l.Fragment,{})),e=d[0],f=d[1];return(0,m.useEffect)(function(){V(p().mark(function a(){var d,e,g;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=new Date().valueOf(),a.t0=b,a.t1="https://bc59e98c-eabc-4d42-98e1-edfe93518966.enrollments.api.brightspace.com/users/".concat(b.uid,"?search=&pageSize=20&embedDepth=0&sort=current&parentOrganizations=&orgUnitTypeId=3&promotePins=true&autoPinCourses=false&roles=&excludeEnded=false&excludeIndirect=false"),a.t2="Bearer ",a.next=6,b._getToken();case 6:return a.t3=a.sent,a.t4=a.t2.concat.call(a.t2,a.t3),a.t5={authorization:a.t4},a.t6={headers:a.t5},a.next=12,a.t0._fetch.call(a.t0,a.t1,a.t6);case 12:return e=a.sent,a.next=15,Promise.all(e.entities.map(V(p().mark(function a(e){var f,g,h,i,j,k,m=e.href;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=b,a.t1=m,a.t2="Bearer ",a.next=5,b._getToken();case 5:return a.t3=a.sent,a.t4=a.t2.concat.call(a.t2,a.t3),a.t5={authorization:a.t4},a.t6={headers:a.t5},a.next=11,a.t0._fetch.call(a.t0,a.t1,a.t6);case 11:return f=a.sent,a.t7=b,a.t8=f.links[1].href,a.t9="Bearer ",a.next=17,b._getToken();case 17:return a.t10=a.sent,a.t11=a.t9.concat.call(a.t9,a.t10),a.t12={authorization:a.t11},a.t13={headers:a.t12},a.next=23,a.t7._fetch.call(a.t7,a.t8,a.t13);case 23:return g=a.sent,a.next=26,window.fetch(g.entities[2].href).then(function(a){return a.json()}).catch(V(p().mark(function a(){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=b,a.t1=g.entities[2].href,a.t2="Bearer ",a.next=5,b._getToken();case 5:return a.t3=a.sent,a.t4=a.t2.concat.call(a.t2,a.t3),a.t5={authorization:a.t4},a.t6={headers:a.t5},a.next=11,a.t0._fetch.call(a.t0,a.t1,a.t6).catch(function(){return"https://blog.fluidui.com/content/images/2019/01/imageedit_1_9273372713.png"});case 11:return a.abrupt("return",a.sent);case 12:case"end":return a.stop()}},a)})));case 26:var e;return h=a.sent,i=(e=g.properties).endDate,j=e.name,k=e.startDate,a.abrupt("return",(0,l.jsx)(T,{Name:j,Active:new Date(i).valueOf()<d,Href:g.links[0].href.replace("https://bc59e98c-eabc-4d42-98e1-edfe93518966.folio.api.brightspace.com/organizations/","https://durham.elearningontario.ca/d2l/home/"),Picture:h.links?h.links[2].href:h,StartDate:k,Route:function(){return c(b)}}));case 29:case"end":return a.stop()}},a)}))));case 15:g=a.sent,f((0,l.jsx)(l.Fragment,{children:g}));case 17:case"end":return a.stop()}},a)}))()},[]),(0,l.jsxs)("section",{className:A().container,children:[(0,l.jsx)(P,{brightSpace:b}),(0,l.jsx)("section",{className:A().list,children:e})]})}),Z=c(2757),$=c.n(Z);(W=g||(g={})).News="News",W.Content="Content",W.Discussions="Discussions",W.Assignments="Assignments",W.Quizzes="Quizzes",(X=h||(h={})).Complete="Complete",X.Unread="Unread",X.OverDue="DueDate";var _=c(6076),aa=c.n(_),ba=c(9213),ca=c(3699),da=c(8686),ea=c.n(da),fa=function(a){var b=a.Content;return(0,l.jsx)("div",{className:ea().markDown,dangerouslySetInnerHTML:{__html:b.Html||b.Text}})},ga=c(6335),ha=c.n(ga),ia=function(a){var b,c=a.Content;switch(!0){case/docs\.google\.com/i.test(c):return(0,l.jsx)("iframe",{allow:"encrypted-media *;",width:"100%",scrolling:"no",src:c,children:"The File Is Having Issues Being Shown"});case/www\.youtube\.com/i.test(c):return(0,l.jsx)("object",{data:"https://www.youtube.com/embed/".concat(new URL(c).searchParams.get("v")),type:"application/pdf",width:"100%",height:"auto",children:(0,l.jsx)("embed",{src:"https://www.youtube.com/embed/".concat(new URL(c).searchParams.get("v")),type:"application/pdf"})});case/\.(doc|docm|docm|docx|docx|dotx|potx|ppt|pptm|pptm|pptx|xlw|xls|xlsm|xlsm|xlsx|xltx)/i.test(c):if(void 0==navigator.mimeTypes||(null==navigator?void 0:navigator.mimeTypes["application/x-nacl"])!==void 0&&((function(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}})(b=(null==navigator?void 0:navigator.plugins)||[{filename:""}])||(function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)})(b)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()).some(function(a){return"gbkeegbaiigmenfmjfclcdgdpimamgkj"==a.filename}))return(0,l.jsx)("iframe",{allow:"encrypted-media *;",width:"100%",scrolling:"no",src:c,children:"The File Is Having Issues Being Shown"});return console.log("Office Viewer Unsupported"),(0,l.jsx)(y,{});case/\.(apng|avif|gif|jpg|jpeg|jfif|pjpeg|pjp|png|svg|webp)/i.test(c):return(0,l.jsx)("picture",{className:ha().contentMedia,children:(0,l.jsx)("img",{src:c})});case/\.(3gp|aac|flac|mpg|mpeg|mp3|mp4|m4a|m4v|m4p|oga|ogg|ogv|ogg|mov|wav|webm)/i.test(c):return(0,l.jsxs)("video",{className:ha().contentMedia,controls:!0,children:[(0,l.jsx)("source",{src:c}),"Your Browser Does Not Support The Video Type"]});case/\.(pdf)/i.test(c):return(0,l.jsx)("object",{data:c,type:"application/pdf",width:"100%",height:"auto",children:(0,l.jsx)("embed",{src:c,type:"application/pdf"})});case c.startsWith("/")&&/\.(html|htm)/i.test(c):return(0,l.jsx)("iframe",{allow:"encrypted-media *;",width:"100%",src:c,children:"The Page is having some trouble showing"});default:console.log("rendering is not yet implemented for content at url: ".concat(c));break}},ja=function(a){var b=a.Content;return(0,l.jsx)("div",{className:ha().container,children:(0,l.jsx)(ia,{Content:b})})};function ka(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var la=function(a,b){switch(a){case g.News:return(0,l.jsx)(fa,{Content:b});case g.Content:return(0,l.jsx)(ja,{Content:b});default:return console.log("Implement Viewing for Category: ".concat(a)),console.log(b),(0,l.jsx)(y,{})}},ma=function(a){var b=a.Id,c=a.Title,d=a.Progress,e=a.Category,f=a.StartDate,h=a.Content,j=(0,m.useState)((0,l.jsx)(y,{})),k=j[0],n=j[1],o=(0,m.useState)(!1),p=o[0],q=o[1],r=function(){p||(n(la(e,h)),q(!0))},s=(ka(i={},g.News,ba.Z),ka(i,g.Content,ca.Z),i)[e];return(0,l.jsxs)("label",{className:[aa().container,aa()[e]].join(" "),htmlFor:"".concat(b,"-ExpandState"),onClick:function(){return r()},children:[(0,l.jsxs)("div",{className:aa().titleBlock,children:[(0,l.jsx)("div",{className:[aa().titleIcon,d].join(" "),children:(0,l.jsx)(F.Z,{className:aa().Icon,component:s,viewBox:"0 0 24 24"})}),(0,l.jsxs)("div",{className:aa().titleText,children:[(0,l.jsx)("h2",{children:c}),(0,l.jsx)("h5",{children:new Date(f).toDateString()})]})]}),(0,l.jsx)("input",{type:"checkbox",id:"".concat(b,"-ExpandState")}),(0,l.jsxs)("div",{className:aa().expandContainer,children:[(0,l.jsx)("hr",{}),k]})]})},na=c(6976),oa=c.n(na),pa=function(a){var b=a.Type;return(0,l.jsx)("label",{className:[oa().container,oa()[b]].join(" "),htmlFor:"".concat(b,"-ExpandState"),children:b})};function qa(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function ra(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){qa(f,d,e,g,h,"next",a)}function h(a){qa(f,d,e,g,h,"throw",a)}g(void 0)})}}function sa(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ta(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){sa(a,b,c[b])})}return a}function ua(a){return(function(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}})(a)||(function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)})(a)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}var va=function(a){var b=a.brightSpace,c=a.Route,d=a.ClassId,f=(0,m.useState)(30e3),i=f[0],j=f[1],k=(0,m.useState)((0,l.jsx)(y,{})),n=k[0],o=k[1],q=(0,m.useState)((0,l.jsx)(y,{})),r=q[0];return q[1],(0,m.useEffect)(function(){var a,f=ra(p().mark(function j(){var k,m,n,q,r,s,t,u,v,w,x,y;return p().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return k=[],j.next=3,b._fetch("/api/le/".concat(b.version.le,"/").concat(d,"/news/"));case 3:return(m=j.sent).forEach(function(a){k.push({date:new Date(a.StartDate).getTime(),elm:(0,l.jsx)(ma,{Id:a.Id,Title:a.Title,Progress:h.Complete,Category:g.News,StartDate:a.StartDate,Content:a.Body,Route:c},a.Id)})}),j.next=7,b._fetch("/api/le/unstable/".concat(d,"/content/userprogress/?pageSize=99999"));case 7:return n=j.sent,q=ra(p().mark(function a(c){var f;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=[],a.next=3,Promise.all(c.map(ra(p().mark(function a(c){var g,h;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=c.Type,a.next=a.t0===e.Module?3:a.t0===e.Topic?16:18;break;case 3:return a.next=6,b._fetch("/api/le/".concat(b.version.le,"/").concat(d,"/content/modules/").concat(c.Id,"/structure/"));case 6:return h=a.sent,a.t1=(g=f).push,a.t2=g,a.t3=ua,a.next=12,q(h);case 12:return a.t4=a.sent,a.t5=(0,a.t3)(a.t4),a.t1.apply.call(a.t1,a.t2,a.t5),a.abrupt("break",18);case 16:return f.push(ta({},c,{Read:n.Objects.some(function(a){return a.ObjectId==c.Id&&a.IsRead})})),a.abrupt("break",18);case 18:case"end":return a.stop()}},a)}))));case 3:return a.abrupt("return",f);case 4:case"end":return a.stop()}},a)})),j.next=11,b._fetch("/api/le/".concat(b.version.le,"/").concat(d,"/content/root/"));case 11:return r=j.sent,j.next=14,q(r);case 14:for(s=j.sent,t=!0,u=!1,v=void 0,j.prev=16,w=s[Symbol.iterator]();!(t=(x=w.next()).done);t=!0)y=x.value,k.push({date:new Date(y.LastModifiedDate).getTime(),elm:(0,l.jsx)(ma,{Id:y.Id,Title:y.Title,Progress:[h.Unread,h.Complete][y.Read?1:0],Category:g.Content,StartDate:y.LastModifiedDate,Content:y.Url,Route:c},y.Id)});j.next=24;break;case 20:j.prev=20,j.t0=j.catch(16),u=!0,v=j.t0;case 24:j.prev=24,j.prev=25,t||null==w.return||w.return();case 27:if(j.prev=27,!u){j.next=30;break}throw v;case 30:return j.finish(27);case 31:return j.finish(24);case 32:o((0,l.jsx)(l.Fragment,{children:k.sort(function(a,b){return b.date-a.date}).map(function(a){return a.elm})})),a=setTimeout(f,i);case 34:case"end":return j.stop()}},j,null,[[16,20,24,32],[25,,27,31]])}));return ra(p().mark(function a(){var c,e,g;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=b,a.t1="https://bc59e98c-eabc-4d42-98e1-edfe93518966.organizations.api.brightspace.com/".concat(d),a.t2="Bearer ",a.next=5,b._getToken();case 5:return a.t3=a.sent,a.t4=a.t2.concat.call(a.t2,a.t3),a.t5={authorization:a.t4},a.t6={headers:a.t5},a.next=11,a.t0._fetch.call(a.t0,a.t1,a.t6);case 11:var h;return c=(h=a.sent).properties,e=h.entities,a.next=14,window.fetch(e[2].href).then(function(a){return a.json()}).catch(ra(p().mark(function a(){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=b,a.t1=e[2].href,a.t2="Bearer ",a.next=5,b._getToken();case 5:return a.t3=a.sent,a.t4=a.t2.concat.call(a.t2,a.t3),a.t5={authorization:a.t4},a.t6={headers:a.t5},a.next=11,a.t0._fetch.call(a.t0,a.t1,a.t6).catch(function(){return"https://blog.fluidui.com/content/images/2019/01/imageedit_1_9273372713.png"});case 11:return a.abrupt("return",a.sent);case 12:case"end":return a.stop()}},a)})));case 14:g=a.sent,f();case 16:case"end":return a.stop()}},a)}))(),function(){return clearTimeout(a)}},[]),(0,l.jsxs)("section",{className:$().container,children:[(0,l.jsx)(D.Z,{timeout:30e3,onActive:function(){return j(30e3)},onIdle:function(){return j(90e4)},debounce:250}),(0,l.jsx)(P,{brightSpace:b}),(0,l.jsxs)("section",{className:$().content,children:[r,(0,l.jsxs)("section",{className:$().stream,children:[(0,l.jsx)("input",{type:"checkbox",id:"".concat(g.News,"-ExpandState"),defaultChecked:!0}),(0,l.jsx)("input",{type:"checkbox",id:"".concat(g.Content,"-ExpandState"),defaultChecked:!0}),(0,l.jsx)("input",{type:"checkbox",id:"".concat(g.Discussions,"-ExpandState"),defaultChecked:!0}),(0,l.jsx)("input",{type:"checkbox",id:"".concat(g.Assignments,"-ExpandState"),defaultChecked:!0}),(0,l.jsx)("input",{type:"checkbox",id:"".concat(g.Quizzes,"-ExpandState"),defaultChecked:!0}),(0,l.jsxs)("div",{className:$().chipContainer,children:[(0,l.jsx)(pa,{Type:g.News}),(0,l.jsx)(pa,{Type:g.Content}),(0,l.jsx)(pa,{Type:g.Discussions}),(0,l.jsx)(pa,{Type:g.Assignments}),(0,l.jsx)(pa,{Type:g.Quizzes})]}),n]})]})]})},wa=function(){var a=(0,m.useState)((0,l.jsx)(y,{})),b=a[0],c=a[1],d=(0,m.useState)("Homepage - ClassList"),e=d[0],f=d[1],g=function(a){var b,d,e=window.location.pathname;switch(!0){case/\/d2l\/home\/([^/]*)$/.test(e):var h=(null===(b=e.match(/\/d2l\/home\/(?<id>[^/]*)$/))|| void 0===b?void 0:null===(d=b.groups)|| void 0===d?void 0:d.id)||"";a.cid=h,c((0,l.jsx)(va,{brightSpace:a,Route:g,ClassId:h})),f("Homepage - ClassRoom");break;case"/d2l/home"==e:default:a.cid="",c((0,l.jsx)(Y,{brightSpace:a,Route:g})),console.log(window.location.pathname),f("Homepage - ClassList");break}};return(0,m.useEffect)(function(){g(new v())},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.default,{children:[(0,l.jsx)("title",{children:e}),(0,l.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,l.jsx)("link",{rel:"icon",type:"image/png",href:"/favicon.png"}),(0,l.jsx)("meta",{name:"description",content:"A Serverless React Based Chat Application Similar To Discord, Using Firebase."})]}),b]})}},1460:function(a){a.exports={container:"ClassCard_container__3bZ-R",content:"ClassCard_content__2yiYZ",disabled:"ClassCard_disabled__14zcG"}},5480:function(a){a.exports={container:"NavBar_container__3IqSA",side:"NavBar_side__3muHW",center:"NavBar_center__3E86B",rightSide:"NavBar_rightSide__1SXd1",SearchBar:"NavBar_SearchBar__31W89",Icon:"NavBar_Icon__3DVuB",IconButton:"NavBar_IconButton__1hPZ3",alertArea:"NavBar_alertArea__HocF6",NotificationShade:"NavBar_NotificationShade__KaMr_",open:"NavBar_open__h6MVb",Active:"NavBar_Active__3wDzu"}},6076:function(a){a.exports={container:"StreamCard_container__2ubM5",titleBlock:"StreamCard_titleBlock__3MkW5",titleIcon:"StreamCard_titleIcon__2CLpI",DueDate:"StreamCard_DueDate__1vKVq",Unread:"StreamCard_Unread__RTpBG",titleText:"StreamCard_titleText__1zlQP",expandContainer:"StreamCard_expandContainer__1RIPT",News:"StreamCard_News__2bmQh",Content:"StreamCard_Content__1yr5b",Discussions:"StreamCard_Discussions__33-lZ",Assignments:"StreamCard_Assignments__34G8b",Quizzes:"StreamCard_Quizzes__2_qOb"}},6335:function(a){a.exports={contentMedia:"ContentBody_contentMedia__3Y5Qe",container:"ContentBody_container__3M92W"}},8686:function(a){a.exports={markDown:"NewsBody_markDown__31zaN"}},6976:function(a){a.exports={container:"StreamChip_container__3xRj6",News:"StreamChip_News__c34NW",Content:"StreamChip_Content__3w4zE",Discussions:"StreamChip_Discussions__1w6bA",Assignments:"StreamChip_Assignments__2lmke",Quizzes:"StreamChip_Quizzes__3bRpF"}},9993:function(a){a.exports={container:"ClassList_container__2hWRp",list:"ClassList_list__3rI0R"}},2757:function(a){a.exports={container:"ClassRoom_container__1j7l6",content:"ClassRoom_content__EvU3F",stream:"ClassRoom_stream__2pcrz",chipContainer:"ClassRoom_chipContainer__G55Bg"}},5191:function(a){a.exports={container:"Loader_container__1Rrbz",loader:"Loader_loader__9-c8B"}}},function(a){a.O(0,[774,869,888,179],function(){return a(a.s=3255)}),_N_E=a.O()}])